# Linux 학습 정리 I

## 파일 시스템 

- 저장 장치 내에서 데이터를 읽고 쓰기 위해 미리 정한 **약속** 또는 **기준**
- 파일 저장 및 검색을 할 수 있도록 **관리**하는 **방법**
- 파일을 어떻게 관리할 것인가에 대한 **정책**

#### **리눅스 파일 시스템** : 디렉토리 + 파일의 형태로 구성

- 루트 파일 아래에 계층적으로 모든 파일과 디렉토리가 만들어짐

- **파일** : 주기억장치나 디스크처럼 **물리적**인 하드웨어 저장 공간에 저장되는 **데이터의 집합**

## **파일 시스템의 종류**

- **FAT(File Allocation Table)** : 파일 할당 테이블, 메모리카드에 쓰임, 단순한 자료구조, 공간 활용이 떨어짐
- **NTFS** : 윈도우즈 NT 계열 파일 시스템 구조(NT는 FAT 시스템을 대체하기 위해 나온 New Technology의 약자), 시스템 고장과 디스크 손상을 복구할 수 있어서 안정성이 FAT에 비해 높다, 보안성도 개선됨
- **EXT** : ext2(2차 확장 파일), ext3(데이터 탐색 성능 개선), ext4 등 리눅스에서 기본 파일 시스템으로 많이 사용됨

## 리눅스 디렉토리 구조

리눅스 파일 시스템의 디렉토리 구조는 **트리(tree)** 구조

```sh
root
 ├─bin
 ├─home ─ elice ─ 바탕화면 
 ├─lib          ├─문서      
 └─user         └─다운로드  
```

- **root** : 디렉토리 구조 내의 최상위 디렉토리로, 모든 디렉토리들의 시작점
- **bin** : 기본적인 명령어가 저장되는 곳(ls, cd 등..)
- **home** : 리눅스에 계정을 추가하면 각 계정에 맞게 생성되는 곳
- **lib** : 리눅스나 각종 프로그램에서 쓰이는 라이브러리가 저장되는 곳
- **boot** : 리눅스가 시작될 때 건드려야 할 세팅이나 설정 등을 보관하는 곳
- **etc** : 리눅스의 거의 모든 설정파일이 존재하는 곳

디렉토리 구조는 `tree` 라는 명령어를 입력하여 알 수 있다. 단, `tree` 명령어를 찾을 수 없을 때(`usr/bin/tree` 파일이나 디렉토리가 없을 때)에는 `sudo apt install tree` 명령어를 사용하여 tree 패키지를 설치해야 한다.

## 리눅스 파일 속성

```sh
1     2      3     4       5       6         7            8
- | rw-r-r | 1 | mark | elice | 8980 | 2월 16 01:33 | elice.txt
```

**1번) 파일 유형**: `d` : 디렉토리, `-` : 파일

**2번) 파일 권한** :  `r` : 읽기, `w` : 쓰기, `x` : 실행 권한

- `r : 4`, `w : 2`, `x : 1`와 같이 숫자로 권한을 나타낼 수 있다

```sh
소유자 |  그룹  | 그 외 사용자
r w - | r - - | r - -
4 2 0 | 4 0 0 | 4 0 0
  6       4       4

// 위의 내용에 따르면,
// 소유자는 읽기(r)와 쓰기(w)가 가능하고,
// 그룹은 읽기(r)만 가능,
// 그 외 사용자도 읽기(r)만 가능하다.
```

**3번) 링크 수** : 파일이 링크된 개수

**4번) 파일 소유자** : 파일을 만들고 사용할 수 있는 소유자

**5번) 소유 그룹** : 파일의 다양한 사용자를 모아놓은 그룹

**6번) 파일 크기(Byte)** 

**7번) 마지막 변경 시간** : 

**8번) 파일 이름** 

**파일의 권한 및 소유권 변경**은 아래 `리눅스 주요 명령어`를 참조한다.

## 리눅스 파일 명령어

- **`ls -al`** : 숨김 파일까지 포함하여 현재 위치 아래 모든 파일 속성 확인

- **`chmod [파일권한][변경할 파일 위치 또는 이름]`** : 파일의 **권한** 변경

  ```sh
  $ chmod 777 elice.txt
  
  // 777 권한은 모든 사용자가 모든 권한을 얻는다는 의미
  ```

  

- **`chown [소유할유저]:[소유할그룹] [소유권 변경하고 싶은 디렉토리 or 파일 명]`** : 파일의 **소유권** 변경 (단, **root 권한이 있어야 실행 가능**)

  ```sh
  chown elice:elice elice.txt	
  ```

  

- **`mkdir [생성할 디렉토리 이름] or [디렉토리 경로/디렉토리명]`** : **디렉토리 생성**

- **`touch [생성할 파일 이름] or [디렉토리 경로/파일명]`** : **빈 파일 생성**

- **`rmdir [삭제할 디렉토리 이름]`** : **비어있는 디렉토리 삭제**(단, 파일이 있을 경우 삭제 불가)

- **`rm [option] [삭제할 파일 및 디렉토리 명]`** : **파일 및 디렉토리 삭제**

  - **-option**

    `-r` : 디렉토리와 그 **하부 파일까지** 삭제

    `-f` : 삭제 여부를 묻지 않고 **바로 삭제**

    `-i` : 삭제할 것인지 **확인**을 한다.

    `-rf` : **삭제 여부를 묻지 않고 하부 파일이 있는 디렉토리까지 삭제**

- **` cp [option] [대상 위치 및 이름] [복사하고 싶은 위치]`** : **파일 및 디렉토리 복사**

  - **-option**

    `-r` : 하위 디렉토리와 파일 **전체를 복사**

    `-p` : 소유주, 그룹, 권한, 시간 정보를 그대로 복사

  ```sh
  // etc 디렉토리의 test 파일을 backup 디렉토리로 복사
  $ cp /etc/test /backup
  
  // etc 디렉토리의 하위 디렉토리 및 파일 전체를 backup 디렉토리로 복사
  $ cp -r /etc/elice /backup
  ```

- **`mv [대상 위치/이름] [이동하고 싶은 위치/이름]`** : 이동하고 싶은 위치에 **같은 이름의 파일/디렉토리 명이 존재하지 않을 경우 이동**

  ```sh
  // directory 폴더 내에 존재하는 hello.py 파일을 greeting 디렉토리로 이동시킴 
  mv directory/hello.py directory/greeting
  ```

  

- **`cat [option] [파일 이름]`** : 파일 **내용 출력**

  -  **-option**

    `-n` : 왼쪽에 **줄 번호**와 함께 내용을 출력한다.

    `>`: 파일의 내용을 **덮어쓴다.**

    `>>` : 파일의 내용이 있다면 뒤에 **내용을 추가**한다. 

- **`find [파일 경로] [-name] [찾는 파일 or 디렉토리 명] [-type d/f]`** : 지정된 [파일 경로]에서 이름이 [파일 이름]인 **파일 및 디렉토리를 검색**하는 명령어 (명령어 끝에 `-type d` 또는 `-type f`를 작성하여 디렉토리나 폴더만을 검색할 수 있다.)

  ```sh
  // virus.exe 파일이 있는 디렉토리를 찾기 위해 명령어 실행
  $ find -name "virus.exe"
  
  // 결과
  ./directory/Jy7FINRO5w1vV9Xm
  ```

- **`[사용하려는 명령어] --help`** : 사용하려는 명령어의 **도움말**을 화면에 출력

### 다양한 명령어 요약

- **`head`** : **처음 N줄** 출력 (`cat` 명령어와 많이 사용됨)
- **`tail`** : **마지막 N줄** 출력 (`cat` 명령어와 많이 사용됨)
- **`alias`** : **지정 명령어**
- **`more`** : 화면 **단위 출력**
- **`diff`** : **파일 비교**
- **`su [바꿀 사용자 이름]`** : 현재 **사용자 변경** (비밀번호 입력 필요, 그냥 `su` 만 입력하면 `root` 계정으로 변경)
- **`which`** : **절대 경로**
- **`wc`** : **라인, 단어의 수**
- **`shutdown`** : **시스템 종료**

## 나노 텍스트 에디터

### 나노 텍스트 에디터

- **UNIX 호환 시스템**에서 사용 가능한 가볍고 간단한 **텍스트 에디터**이다. 메모장으로 파일을 수정하듯이 파일을 수정할 수 있다. 

- 참고로 리눅스에서는 nano뿐만 아니라 여러 종류의 에디터를 지원한다. gedit, vim, emacs, pico의 대표적인 에디터들이 있다.

```sh
// 나노 텍스트 에디터 실행
nano [편집하려는 파일 이름]
```

### 단축키

| 단축키(대소문자 무관) | 동작             |
| --------------------- | ---------------- |
| **Ctrl + O**          | **저장**하기     |
| **Ctrl + X**          | **종료**하기     |
| **Ctrl + W**          | **검색**하기     |
| **Alt + 6**           | **복사**하기     |
| **Ctrl + U**          | **붙여넣기**     |
| **Ctrl + ^**          | **여러 줄 선택** |





<br/>

---

※ 엘리스가 제공한 학습 자료, 콘텐츠의 저작권은 엘리스에 있습니다. <br>

**※ COPYRIGHT 2016-2021. ELICE ALL RIGHTS RESERVED.**